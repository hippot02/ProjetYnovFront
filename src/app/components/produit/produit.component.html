<div class="container">
    <div class="table-container">
        <table class="table">
            <thead>
                <tr>
                    <th>Nom</th>
                    <th>Stock</th>
                    <th>Photo</th>
                    <th>Prix</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let produit of produits">
                    <td>{{ produit.nom }}</td>
                    <td>{{ produit.stock }}</td>
                    <td><img src="{{ produit.photo }}"></td>
                    <td>{{ produit.prix }}</td>
                    <td>
                        <button class="action-button edit-button" *ngIf="produit._id" (click)="editProduit(produit)">
                            Modifier
                        </button>
                        <button class="action-button delete-button" *ngIf="produit._id"
                            (click)="deleteProduit(produit._id)">
                            Supprimer
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="pagination-controls">
        <div class="pagination-buttons">
            <button class="pagination-button" (click)="previousPage()">
                Page précédente
            </button>
            <button class="pagination-button" (click)="nextPage()">
                Page suivante
            </button>
        </div>
        <div class="page-size-select-container">
            <label for="pageSizeSelect">Afficher par page:</label>
            <select id="pageSizeSelect" class="page-size-select" (change)="onPageSizeChange($event)">
                <option value="15">15</option>
                <option value="10">10</option>
                <option value="5">5</option>
            </select>
        </div>
    </div>

    <div class="add-produit-form">
        <form [formGroup]="produitForm" (ngSubmit)="onSubmit()">
            <div class="form-group">
                <label for="nom">Nom:</label>
                <input type="text" id="nom" formControlName="nom" />
            </div>
            <div class="form-group">
                <label for="stock">Stock:</label>
                <input type="number" id="stock" formControlName="stock" />
            </div>
            <div class="form-group">
                <label for="photo">Photo (url):</label>
                <input type="text" id="photo" formControlName="photo" />
            </div>
            <div class="form-group">
                <label for="prix">Prix:</label>
                <input type="number" id="prix" formControlName="prix" />
            </div>
            <button type="submit">{{ editMode ? "Modifier" : "Ajouter" }}</button>
            <button type="button" (click)="onCancel()">Annuler</button>
        </form>
    </div>
</div>